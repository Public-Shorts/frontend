const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./stegaEncodeSourceMap-ZhS991Ho.js","./iframe-6KIpb0Mt.js","./preload-helper-PPVm8Dsz.js","./iframe-CJ5QVpwD.css","./create-runtime-stories-C7cqMwQp.js","./this-DkeGxGfh.js","./browser-Bn6v8F2i.js","./_commonjsHelpers-CqkleIqs.js"])))=>i.map(i=>d[i]);
import{d as Hr,aq as Vr,$ as Wr,ar as Gr,as as Qr,at as Jr,a5 as Yr,au as Xr,av as It,aw as Zr,Z as Kr,aa as ce,p as en,i as we,j as Q,k as N,b as k,a as tn,f as ee,c as R,l as S,s as rn,A as nn,t as X,u as le,z as M,ab as B,ax as rt}from"./iframe-6KIpb0Mt.js";import{f as Ce,g as sn}from"./create-runtime-stories-C7cqMwQp.js";import{b as on}from"./this-DkeGxGfh.js";import{_ as jt}from"./preload-helper-PPVm8Dsz.js";const an=()=>performance.now(),z={tick:t=>requestAnimationFrame(t),now:()=>an(),tasks:new Set};function Tt(){const t=z.now();z.tasks.forEach(e=>{e.c(t)||(z.tasks.delete(e),e.f())}),z.tasks.size!==0&&z.tick(Tt)}function un(t){let e;return z.tasks.size===0&&z.tick(Tt),{promise:new Promise(r=>{z.tasks.add(e={c:t,f:r})}),abort(){z.tasks.delete(e)}}}function Ee(t,e){It(()=>{t.dispatchEvent(new CustomEvent(e))})}function cn(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function nt(t){const e={},r=t.split(";");for(const n of r){const[s,i]=n.split(":");if(!s||i===void 0)break;const o=cn(s.trim());e[o]=i.trim()}return e}const ln=t=>t;function fn(t,e,r,n){var s=(t&Xr)!==0,i="both",o,a=e.inert,c=e.style.overflow,u,l;function h(){return It(()=>o??=r()(e,n?.()??{},{direction:i}))}var v={is_global:s,in(){e.inert=a,Ee(e,"introstart"),u=De(e,h(),l,1,()=>{Ee(e,"introend"),u?.abort(),u=o=void 0,e.style.overflow=c})},out(m){e.inert=!0,Ee(e,"outrostart"),l=De(e,h(),u,0,()=>{Ee(e,"outroend"),m?.()})},stop:()=>{u?.abort(),l?.abort()}},d=Hr;if((d.transitions??=[]).push(v),Vr){var p=s;if(!p){for(var f=d.parent;f&&(f.f&Wr)!==0;)for(;(f=f.parent)&&(f.f&Gr)===0;);p=!f||(f.f&Qr)!==0}p&&Jr(()=>{Yr(()=>v.in())})}}function De(t,e,r,n,s){var i=n===1;if(Zr(e)){var o,a=!1;return Kr(()=>{if(!a){var m=e({direction:i?"in":"out"});o=De(t,m,r,n,s)}}),{abort:()=>{a=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(r?.deactivate(),!e?.duration)return s(),{abort:ce,deactivate:ce,reset:ce,t:()=>n};const{delay:c=0,css:u,tick:l,easing:h=ln}=e;var v=[];if(i&&r===void 0&&(l&&l(0,1),u)){var d=nt(u(0,1));v.push(d,d)}var p=()=>1-n,f=t.animate(v,{duration:c,fill:"forwards"});return f.onfinish=()=>{f.cancel();var m=r?.t()??1-n;r?.abort();var g=n-m,y=e.duration*Math.abs(g),b=[];if(y>0){var w=!1;if(u)for(var E=Math.ceil(y/16.666666666666668),C=0;C<=E;C+=1){var j=m+g*h(C/E),$=nt(u(j,1-j));b.push($),w||=$.overflow==="hidden"}w&&(t.style.overflow="hidden"),p=()=>{var O=f.currentTime;return m+g*h(O/y)},l&&un(()=>{if(f.playState!=="running")return!1;var O=p();return l(O,1-O),!0})}f=t.animate(b,{duration:y,fill:"forwards"}),f.onfinish=()=>{p=()=>n,l?.(n,1-n),s()}},{abort:()=>{f&&(f.cancel(),f.effect=null,f.onfinish=ce)},deactivate:()=>{s=ce},reset:()=>{n===0&&l?.(1,0)},t:()=>p()}}const dn=t=>t;function hn(t,{delay:e=0,duration:r=400,easing:n=dn}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:i=>`opacity: ${i*s}`}}var pn=ee('<span class="mx-1 text-gallery-300">Â·</span>'),vn=ee('<span class="mt-1.5 block pl-4 text-[11px] leading-none text-gallery-500"><!> <!> <!></span>'),yn=ee('<div class="flex items-baseline gap-2"><span class="relative -top-px inline-block h-2 w-2 shrink-0 rounded-full"></span> <span class="text-sm font-semibold leading-tight text-gallery-800"> </span></div> <!>',1),mn=ee('<div class="flex items-baseline gap-2"><span class="relative -top-px inline-block h-2 w-2 shrink-0 rounded-sm"></span> <span class="text-sm font-semibold leading-tight text-gallery-800"> </span></div> <span class="mt-1.5 block pl-4 text-[11px] leading-none text-gallery-400"> </span>',1),gn=ee('<div class="flex items-baseline gap-2"><span class="relative -top-px inline-block h-2 w-2 shrink-0 rotate-45 rounded-sm"></span> <span class="text-sm font-semibold leading-tight text-gallery-800"> </span></div> <span class="mt-1.5 block pl-4 text-[11px] leading-none text-gallery-400"> </span>',1),bn=ee('<div class="flex items-baseline gap-2"><svg class="relative -top-px h-2 w-2 shrink-0" viewBox="0 0 10 10"><polygon points="5,0 10,8.66 0,8.66"></polygon></svg> <span class="text-sm font-semibold leading-tight text-gallery-800"> </span></div> <span class="mt-1.5 block pl-4 text-[11px] leading-none text-gallery-400"> </span>',1),wn=ee('<div class="pointer-events-none fixed z-50 max-w-xs rounded-md border border-gallery-200 bg-gallery-50 px-3 py-2.5 shadow-md"><!></div>');function Cn(t,e){en(e,!0);let r=rn(void 0),n=le(()=>{let u=e.x+16,l=e.y+16;if(typeof window<"u"&&S(r)){const h=S(r).getBoundingClientRect();u+h.width+12>window.innerWidth&&(u=e.x-h.width-16),l+h.height+12>window.innerHeight&&(l=e.y-h.height-16)}return{left:u,top:l}});var s=we(),i=Q(s);{var o=a=>{var c=wn(),u=R(c);{var l=v=>{const d=le(()=>e.node.data);var p=yn(),f=Q(p),m=R(f),g=M(m,2),y=R(g),b=M(f,2);{var w=E=>{var C=vn(),j=R(C);{var $=I=>{var P=rt();X(()=>B(P,S(d).directorName)),k(I,P)};N(j,I=>{S(d).directorName&&I($)})}var O=M(j,2);{var G=I=>{var P=pn();k(I,P)};N(O,I=>{S(d).directorName&&S(d).length&&I(G)})}var re=M(O,2);{var ne=I=>{var P=rt();X(()=>B(P,`${S(d).length??""} min`)),k(I,P)};N(re,I=>{S(d).length&&I(ne)})}k(E,C)};N(b,E=>{(S(d).directorName||S(d).length)&&E(w)})}X(()=>{Ce(m,`background: ${e.node.color??""}`),B(y,S(d).englishTitle)}),k(v,p)},h=v=>{var d=we(),p=Q(d);{var f=g=>{const y=le(()=>e.node.data);var b=mn(),w=Q(b),E=R(w),C=M(E,2),j=R(C),$=M(w,2),O=R($);X(()=>{Ce(E,`background: ${e.node.color??""}`),B(j,S(y).name),B(O,`${S(y).filmCount??""} films`)}),k(g,b)},m=g=>{var y=we(),b=Q(y);{var w=C=>{const j=le(()=>e.node.data);var $=gn(),O=Q($),G=R(O),re=M(G,2),ne=R(re),I=M(O,2),P=R(I);X(()=>{Ce(G,`background: ${e.node.color??""}`),B(ne,S(j).name),B(P,`${S(j).filmCount??""} films`)}),k(C,$)},E=C=>{var j=we(),$=Q(j);{var O=G=>{const re=le(()=>e.node.data);var ne=bn(),I=Q(ne),P=R(I),Dr=R(P),Lr=M(P,2),Nr=R(Lr),Br=M(I,2),zr=R(Br);X(()=>{sn(Dr,"fill",e.node.color),B(Nr,S(re).name),B(zr,`${S(re).filmCount??""} films`)}),k(G,ne)};N($,G=>{e.node.type==="screening"&&G(O)},!0)}k(C,j)};N(b,C=>{e.node.type==="cluster"?C(w):C(E,!1)},!0)}k(g,y)};N(p,g=>{e.node.type==="meta-category"?g(f):g(m,!1)},!0)}k(v,d)};N(u,v=>{e.node.type==="film"?v(l):v(h,!1)})}on(c,v=>nn(r,v),()=>S(r)),X(()=>Ce(c,`left: ${S(n).left??""}px; top: ${S(n).top??""}px;`)),fn(3,c,()=>hn,()=>({duration:80})),k(a,c)};N(i,a=>{e.node&&a(o)})}k(t,s),tn()}Cn.__docgen={data:[{name:"node",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"object",text:"GraphNode"},static:!1,readonly:!1},{name:"x",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"y",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1}],name:"GraphTooltip.svelte"};const Rt=!(typeof navigator>"u")&&navigator.product==="ReactNative",$t={timeout:Rt?6e4:12e4},En=function(t){const e={...$t,...typeof t=="string"?{url:t}:t};if(e.timeout=kt(e.timeout),e.query){const{url:r,searchParams:n}=(function(s){const i=s.indexOf("?");if(i===-1)return{url:s,searchParams:new URLSearchParams};const o=s.slice(0,i),a=s.slice(i+1);if(!Rt)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const c=new URLSearchParams;for(const u of a.split("&")){const[l,h]=u.split("=");l&&c.append(st(l),st(h||""))}return{url:o,searchParams:c}})(e.url);for(const[s,i]of Object.entries(e.query)){if(i!==void 0)if(Array.isArray(i))for(const a of i)n.append(s,a);else n.append(s,i);const o=n.toString();o&&(e.url=`${r}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function st(t){return decodeURIComponent(t.replace(/\+/g," "))}function kt(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?kt($t.timeout):{connect:e,socket:e}}const xn=/^https?:\/\//i,_n=function(t){if(!xn.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function Pt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Sn=["request","response","progress","error","abort"],it=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function Ft(t,e){const r=[],n=it.reduce((i,o)=>(i[o]=i[o]||[],i),{processOptions:[En],validateOptions:[_n]});function s(i){const o=Sn.reduce((d,p)=>(d[p]=(function(){const f=Object.create(null);let m=0;return{publish:function(g){for(const y in f)f[y](g)},subscribe:function(g){const y=m++;return f[y]=g,function(){delete f[y]}}}})(),d),{}),a=(d=>function(p,f,...m){const g=p==="onError";let y=f;for(let b=0;b<d[p].length&&(y=(0,d[p][b])(y,...m),!g||y);b++);return y})(n),c=a("processOptions",i);a("validateOptions",c);const u={options:c,channels:o,applyMiddleware:a};let l;const h=o.request.subscribe(d=>{l=e(d,(p,f)=>((m,g,y)=>{let b=m,w=g;if(!b)try{w=a("onResponse",g,y)}catch(E){w=null,b=E}b=b&&a("onError",b,y),b?o.error.publish(b):w&&o.response.publish(w)})(p,f,d))});o.abort.subscribe(()=>{h(),l&&l.abort()});const v=a("onReturn",o,u);return v===o&&o.request.publish(u),v}return s.use=function(i){if(!i)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof i=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(i.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return it.forEach(o=>{i[o]&&n[o].push(i[o])}),r.push(i),s},s.clone=()=>Ft(r,e),t.forEach(s.use),s}var ot,at,An=Pt((function(){if(at)return ot;at=1;var t=function(r){return r.replace(/^\s+|\s+$/g,"")},e=function(r){return Object.prototype.toString.call(r)==="[object Array]"};return ot=function(r){if(!r)return{};for(var n=Object.create(null),s=t(r).split(`
`),i=0;i<s.length;i++){var o=s[i],a=o.indexOf(":"),c=t(o.slice(0,a)).toLowerCase(),u=t(o.slice(a+1));typeof n[c]>"u"?n[c]=u:e(n[c])?n[c].push(u):n[c]=[n[c],u]}return n}})());let Le=class{onabort;onerror;onreadystatechange;ontimeout;readyState=0;response;responseText="";responseType="";status;statusText;withCredentials;#e;#t;#n;#s={};#r;#i={};#o;open(e,r,n){this.#e=e,this.#t=r,this.#n="",this.readyState=1,this.onreadystatechange?.(),this.#r=void 0}abort(){this.#r&&this.#r.abort()}getAllResponseHeaders(){return this.#n}setRequestHeader(e,r){this.#s[e]=r}setInit(e,r=!0){this.#i=e,this.#o=r}send(e){const r=this.responseType!=="arraybuffer",n={...this.#i,method:this.#e,headers:this.#s,body:e};typeof AbortController=="function"&&this.#o&&(this.#r=new AbortController,typeof EventTarget<"u"&&this.#r.signal instanceof EventTarget&&(n.signal=this.#r.signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(this.#t,n).then(s=>(s.headers.forEach((i,o)=>{this.#n+=`${o}: ${i}\r
`}),this.status=s.status,this.statusText=s.statusText,this.readyState=3,this.onreadystatechange?.(),r?s.text():s.arrayBuffer())).then(s=>{typeof s=="string"?this.responseText=s:this.response=s,this.readyState=4,this.onreadystatechange?.()}).catch(s=>{s.name!=="AbortError"?this.onerror?.(s):this.onabort?.()})}};const Ne=typeof XMLHttpRequest=="function"?"xhr":"fetch",On=Ne==="xhr"?XMLHttpRequest:Le,In=(t,e)=>{const r=t.options,n=t.applyMiddleware("finalizeOptions",r),s={},i=t.applyMiddleware("interceptRequest",void 0,{adapter:Ne,context:t});if(i){const f=setTimeout(e,0,null,i);return{abort:()=>clearTimeout(f)}}let o=new On;o instanceof Le&&typeof n.fetch=="object"&&o.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,c=n.timeout;let u=!1,l=!1,h=!1;if(o.onerror=f=>{p(o instanceof Le?f instanceof Error?f:new Error(`Request error while attempting to reach is ${n.url}`,{cause:f}):new Error(`Request error while attempting to reach is ${n.url}${f.lengthComputable?`(${f.loaded} of ${f.total} bytes transferred)`:""}`))},o.ontimeout=f=>{p(new Error(`Request timeout while attempting to reach ${n.url}${f.lengthComputable?`(${f.loaded} of ${f.total} bytes transferred)`:""}`))},o.onabort=()=>{d(!0),u=!0},o.onreadystatechange=function(){c&&(d(),s.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),c.socket)),!u&&o&&o.readyState===4&&o.status!==0&&(function(){if(!(u||l||h)){if(o.status===0)return void p(new Error("Unknown XHR error"));d(),l=!0,e(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:n.url,method:n.method,headers:An(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}})()},o.open(n.method,n.url,!0),o.withCredentials=!!n.withCredentials,a&&o.setRequestHeader)for(const f in a)a.hasOwnProperty(f)&&o.setRequestHeader(f,a[f]);return n.rawBody&&(o.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter:Ne,request:o,context:t}),o.send(n.body||null),c&&(s.connect=setTimeout(()=>v("ETIMEDOUT"),c.connect)),{abort:function(){u=!0,o&&o.abort()}};function v(f){h=!0,o.abort();const m=new Error(f==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);m.code=f,t.channels.error.publish(m)}function d(f){(f||u||o&&o.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function p(f){if(l)return;d(!0),l=!0,o=null;const m=f||new Error(`Network error while attempting to reach ${n.url}`);m.isNetworkError=!0,m.request=n,e(m)}},jn=(t=[],e=In)=>Ft(t,e);var Tn={},ut,ct,lt,ft,dt,Fe={exports:{}};dt||(dt=1,(function(t,e){e.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const s="color: "+this.color;n.splice(1,0,s,"color: inherit");let i=0,o=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(i++,a==="%c"&&(o=i))}),n.splice(o,0,s)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function(){let n;try{n=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=Tn.DEBUG),n},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=(function(){try{return localStorage}catch{}})(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(ft?lt:(ft=1,lt=function(n){function s(a){let c,u,l,h=null;function v(...d){if(!v.enabled)return;const p=v,f=Number(new Date),m=f-(c||f);p.diff=m,p.prev=c,p.curr=f,c=f,d[0]=s.coerce(d[0]),typeof d[0]!="string"&&d.unshift("%O");let g=0;d[0]=d[0].replace(/%([a-zA-Z%])/g,(y,b)=>{if(y==="%%")return"%";g++;const w=s.formatters[b];if(typeof w=="function"){const E=d[g];y=w.call(p,E),d.splice(g,1),g--}return y}),s.formatArgs.call(p,d),(p.log||s.log).apply(p,d)}return v.namespace=a,v.useColors=s.useColors(),v.color=s.selectColor(a),v.extend=i,v.destroy=s.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(u!==s.namespaces&&(u=s.namespaces,l=s.enabled(a)),l),set:d=>{h=d}}),typeof s.init=="function"&&s.init(v),v}function i(a,c){const u=s(this.namespace+(typeof c>"u"?":":c)+a);return u.log=this.log,u}function o(a,c){let u=0,l=0,h=-1,v=0;for(;u<a.length;)if(l<c.length&&(c[l]===a[u]||c[l]==="*"))c[l]==="*"?(h=l,v=u,l++):(u++,l++);else{if(h===-1)return!1;l=h+1,v++,u=v}for(;l<c.length&&c[l]==="*";)l++;return l===c.length}return s.debug=s,s.default=s,s.coerce=function(a){return a instanceof Error?a.stack||a.message:a},s.disable=function(){const a=[...s.names,...s.skips.map(c=>"-"+c)].join(",");return s.enable(""),a},s.enable=function(a){s.save(a),s.namespaces=a,s.names=[],s.skips=[];const c=(typeof a=="string"?a:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const u of c)u[0]==="-"?s.skips.push(u.slice(1)):s.names.push(u)},s.enabled=function(a){for(const c of s.skips)if(o(a,c))return!1;for(const c of s.names)if(o(a,c))return!0;return!1},s.humanize=(function(){if(ct)return ut;ct=1;var a=1e3,c=60*a,u=60*c,l=24*u,h=7*l;function v(d,p,f,m){var g=p>=1.5*f;return Math.round(d/f)+" "+m+(g?"s":"")}return ut=function(d,p){p=p||{};var f,m,g=typeof d;if(g==="string"&&d.length>0)return(function(y){if(!((y=String(y)).length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(b){var w=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*w;case"weeks":case"week":case"w":return w*h;case"days":case"day":case"d":return w*l;case"hours":case"hour":case"hrs":case"hr":case"h":return w*u;case"minutes":case"minute":case"mins":case"min":case"m":return w*c;case"seconds":case"second":case"secs":case"sec":case"s":return w*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}})(d);if(g==="number"&&isFinite(d))return p.long?(f=d,(m=Math.abs(f))>=l?v(f,m,l,"day"):m>=u?v(f,m,u,"hour"):m>=c?v(f,m,c,"minute"):m>=a?v(f,m,a,"second"):f+" ms"):(function(y){var b=Math.abs(y);return b>=l?Math.round(y/l)+"d":b>=u?Math.round(y/u)+"h":b>=c?Math.round(y/c)+"m":b>=a?Math.round(y/a)+"s":y+"ms"})(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))}})(),s.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(a=>{s[a]=n[a]}),s.names=[],s.skips=[],s.formatters={},s.selectColor=function(a){let c=0;for(let u=0;u<a.length;u++)c=(c<<5)-c+a.charCodeAt(u),c|=0;return s.colors[Math.abs(c)%s.colors.length]},s.enable(s.load()),s}))(e);const{formatters:r}=t.exports;r.j=function(n){try{return JSON.stringify(n)}catch(s){return"[UnexpectedJSONParseError]: "+s.message}}})(Fe,Fe.exports)),Fe.exports;const Rn=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function ht(t){return Object.prototype.toString.call(t)==="[object Object]"}function $n(t){if(ht(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(ht(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)}const kn=["boolean","string","number"];function Pn(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||Rn(e)||kn.indexOf(typeof e)===-1&&!Array.isArray(e)&&!$n(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function Fn(t){return{onResponse:r=>{const n=r.headers["content-type"]||"",s=t&&t.force||n.indexOf("application/json")!==-1;return r.body&&n&&s?Object.assign({},r,{body:e(r.body)}):r},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let fe={};typeof globalThis<"u"?fe=globalThis:typeof window<"u"?fe=window:typeof global<"u"?fe=global:typeof self<"u"&&(fe=self);var qn=fe;function Mn(t={}){const e=t.implementation||qn.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e(s=>(r.error.subscribe(i=>s.error(i)),r.progress.subscribe(i=>s.next(Object.assign({type:"progress"},i))),r.response.subscribe(i=>{s.next(Object.assign({type:"response"},i)),s.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function Un(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,r=t.context;function n(s){return i=>{const o=i.lengthComputable?i.loaded/i.total*100:-1;r.channels.progress.publish({stage:s,percent:o,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}}}var qt=(t,e,r)=>(r.method==="GET"||r.method==="HEAD")&&(t.isNetworkError||!1);function Dn(t){return 100*Math.pow(2,t)+100*Math.random()}const ze=(t={})=>(e=>{const r=e.maxRetries||5,n=e.retryDelay||Dn,s=e.shouldRetry;return{onError:(i,o)=>{const a=o.options,c=a.maxRetries||r,u=a.retryDelay||n,l=a.shouldRetry||s,h=a.attemptNumber||0;if((v=a.body)!==null&&typeof v=="object"&&typeof v.pipe=="function"||!l(i,h,a)||h>=c)return i;var v;const d=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:h+1})});return setTimeout(()=>o.channels.request.publish(d),u(h)),null}}})({shouldRetry:qt,...t});ze.shouldRetry=qt;var Be=function(t,e){return Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Be(t,e)};function W(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Be(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Ln(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(l){try{u(n.next(l))}catch(h){o(h)}}function c(l){try{u(n.throw(l))}catch(h){o(h)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Mt(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(l){u=[6,l],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function oe(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function V(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function se(t){return this instanceof se?(this.v=t,this):new se(t)}function Nn(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(d){return function(p){return Promise.resolve(p).then(d,h)}}function a(d,p){n[d]&&(s[d]=function(f){return new Promise(function(m,g){i.push([d,f,m,g])>1||c(d,f)})},p&&(s[d]=p(s[d])))}function c(d,p){try{u(n[d](p))}catch(f){v(i[0][3],f)}}function u(d){d.value instanceof se?Promise.resolve(d.value.v).then(l,h):v(i[0][2],d)}function l(d){c("next",d)}function h(d){c("throw",d)}function v(d,p){d(p),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Bn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof oe=="function"?oe(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}function x(t){return typeof t=="function"}function He(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var qe=He(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function Se(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var ve=(function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,s,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=oe(o),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(x(l))try{l()}catch(f){i=f instanceof qe?f.errors:[f]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var v=oe(h),d=v.next();!d.done;d=v.next()){var p=d.value;try{pt(p)}catch(f){i=i??[],f instanceof qe?i=V(V([],H(i)),H(f.errors)):i.push(f)}}}catch(f){n={error:f}}finally{try{d&&!d.done&&(s=v.return)&&s.call(v)}finally{if(n)throw n.error}}}if(i)throw new qe(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)pt(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&Se(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&Se(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=(function(){var e=new t;return e.closed=!0,e})(),t})(),Ut=ve.EMPTY;function Dt(t){return t instanceof ve||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function pt(t){x(t)?t():t.unsubscribe()}var zn={Promise:void 0},Hn={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,V([t,e],H(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function Lt(t){Hn.setTimeout(function(){throw t})}function vt(){}function _e(t){t()}var Ve=(function(t){W(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,Dt(r)&&r.add(n)):n.destination=Gn,n}return e.create=function(r,n,s){return new pe(r,n,s)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(ve),Vn=(function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){xe(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){xe(n)}else xe(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){xe(r)}},t})(),pe=(function(t){W(e,t);function e(r,n,s){var i=t.call(this)||this,o;return x(r)||!r?o={next:r??void 0,error:n??void 0,complete:s??void 0}:o=r,i.destination=new Vn(o),i}return e})(Ve);function xe(t){Lt(t)}function Wn(t){throw t}var Gn={closed:!0,next:vt,error:Wn,complete:vt},We=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function Te(t){return t}function Qn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Nt(t)}function Nt(t){return t.length===0?Te:t.length===1?t[0]:function(r){return t.reduce(function(n,s){return s(n)},r)}}var _=(function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var s=this,i=Yn(e)?e:new pe(e,r,n);return _e(function(){var o=s,a=o.operator,c=o.source;i.add(a?a.call(i,c):c?s._subscribe(i):s._trySubscribe(i))}),i},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=yt(r),new r(function(s,i){var o=new pe({next:function(a){try{e(a)}catch(c){i(c),o.unsubscribe()}},error:i,complete:s});n.subscribe(o)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[We]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Nt(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=yt(e),new e(function(n,s){var i;r.subscribe(function(o){return i=o},function(o){return s(o)},function(){return n(i)})})},t.create=function(e){return new t(e)},t})();function yt(t){var e;return(e=t??zn.Promise)!==null&&e!==void 0?e:Promise}function Jn(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function Yn(t){return t&&t instanceof Ve||Jn(t)&&Dt(t)}function Xn(t){return x(t?.lift)}function D(t){return function(e){if(Xn(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Y(t,e,r,n,s){return new Zn(t,e,r,n,s)}var Zn=(function(t){W(e,t);function e(r,n,s,i,o,a){var c=t.call(this,r)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=n?function(u){try{n(u)}catch(l){r.error(l)}}:t.prototype._next,c._error=i?function(u){try{i(u)}catch(l){r.error(l)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=s?function(){try{s()}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e})(Ve),Kn=He(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ge=(function(t){W(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new mt(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new Kn},e.prototype.next=function(r){var n=this;_e(function(){var s,i;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var o=oe(n.currentObservers),a=o.next();!a.done;a=o.next()){var c=a.value;c.next(r)}}catch(u){s={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(s)throw s.error}}}})},e.prototype.error=function(r){var n=this;_e(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var s=n.observers;s.length;)s.shift().error(r)}})},e.prototype.complete=function(){var r=this;_e(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,s=this,i=s.hasError,o=s.isStopped,a=s.observers;return i||o?Ut:(this.currentObservers=null,a.push(r),new ve(function(){n.currentObservers=null,Se(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,s=n.hasError,i=n.thrownError,o=n.isStopped;s?r.error(i):o&&r.complete()},e.prototype.asObservable=function(){var r=new _;return r.source=this,r},e.create=function(r,n){return new mt(r,n)},e})(_),mt=(function(t){W(e,t);function e(r,n){var s=t.call(this)||this;return s.destination=r,s.source=n,s}return e.prototype.next=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,r)},e.prototype.error=function(r){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&s!==void 0?s:Ut},e})(Ge),Qe={now:function(){return(Qe.delegate||Date).now()},delegate:void 0},es=(function(t){W(e,t);function e(r,n,s){r===void 0&&(r=1/0),n===void 0&&(n=1/0),s===void 0&&(s=Qe);var i=t.call(this)||this;return i._bufferSize=r,i._windowTime=n,i._timestampProvider=s,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,r),i._windowTime=Math.max(1,n),i}return e.prototype.next=function(r){var n=this,s=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;s||(i.push(r),!o&&i.push(a.now()+c)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),s=this,i=s._infiniteTimeWindow,o=s._buffer,a=o.slice(),c=0;c<a.length&&!r.closed;c+=i?1:2)r.next(a[c]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,s=r._timestampProvider,i=r._buffer,o=r._infiniteTimeWindow,a=(o?1:2)*n;if(n<1/0&&a<i.length&&i.splice(0,i.length-a),!o){for(var c=s.now(),u=0,l=1;l<i.length&&i[l]<=c;l+=2)u=l;u&&i.splice(0,u+1)}},e})(Ge),ts=(function(t){W(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e})(ve),gt={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,V([t,e],H(r)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},rs=(function(t){W(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.pending=!1,s}return e.prototype.schedule=function(r,n){var s;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(o,this.id,n),this},e.prototype.requestAsyncId=function(r,n,s){return s===void 0&&(s=0),gt.setInterval(r.flush.bind(r,this),s)},e.prototype.recycleAsyncId=function(r,n,s){if(s===void 0&&(s=0),s!=null&&this.delay===s&&this.pending===!1)return n;n!=null&&gt.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var s=this._execute(r,n);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var s=!1,i;try{this.work(r)}catch(o){s=!0,i=o||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),i},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,s=r.scheduler,i=s.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Se(i,this),n!=null&&(this.id=this.recycleAsyncId(s,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e})(ts),bt=(function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=Qe.now,t})(),ns=(function(t){W(e,t);function e(r,n){n===void 0&&(n=bt.now);var s=t.call(this,r,n)||this;return s.actions=[],s._active=!1,s}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var s;this._active=!0;do if(s=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,s){for(;r=n.shift();)r.unsubscribe();throw s}},e})(bt),ss=new ns(rs),is=ss,Bt=new _(function(t){return t.complete()});function os(t){return t&&x(t.schedule)}function Je(t){return t[t.length-1]}function as(t){return x(Je(t))?t.pop():void 0}function Ye(t){return os(Je(t))?t.pop():void 0}function us(t,e){return typeof Je(t)=="number"?t.pop():e}var zt=(function(t){return t&&typeof t.length=="number"&&typeof t!="function"});function Ht(t){return x(t?.then)}function Vt(t){return x(t[We])}function Wt(t){return Symbol.asyncIterator&&x(t?.[Symbol.asyncIterator])}function Gt(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function cs(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Qt=cs();function Jt(t){return x(t?.[Qt])}function Yt(t){return Nn(this,arguments,function(){var r,n,s,i;return Mt(this,function(o){switch(o.label){case 0:r=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,se(r.read())];case 3:return n=o.sent(),s=n.value,i=n.done,i?[4,se(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,se(s)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function Xt(t){return x(t?.getReader)}function L(t){if(t instanceof _)return t;if(t!=null){if(Vt(t))return ls(t);if(zt(t))return fs(t);if(Ht(t))return ds(t);if(Wt(t))return Zt(t);if(Jt(t))return hs(t);if(Xt(t))return ps(t)}throw Gt(t)}function ls(t){return new _(function(e){var r=t[We]();if(x(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fs(t){return new _(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function ds(t){return new _(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Lt)})}function hs(t){return new _(function(e){var r,n;try{for(var s=oe(t),i=s.next();!i.done;i=s.next()){var o=i.value;if(e.next(o),e.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}e.complete()})}function Zt(t){return new _(function(e){vs(t,e).catch(function(r){return e.error(r)})})}function ps(t){return Zt(Yt(t))}function vs(t,e){var r,n,s,i;return Ln(this,void 0,void 0,function(){var o,a;return Mt(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=Bn(t),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(o=n.value,e.next(o),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),s={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Z(t,e,r,n,s){n===void 0&&(n=0),s===void 0&&(s=!1);var i=e.schedule(function(){r(),s?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(i),!s)return i}function Kt(t,e){return e===void 0&&(e=0),D(function(r,n){r.subscribe(Y(n,function(s){return Z(n,t,function(){return n.next(s)},e)},function(){return Z(n,t,function(){return n.complete()},e)},function(s){return Z(n,t,function(){return n.error(s)},e)}))})}function er(t,e){return e===void 0&&(e=0),D(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function ys(t,e){return L(t).pipe(er(e),Kt(e))}function ms(t,e){return L(t).pipe(er(e),Kt(e))}function gs(t,e){return new _(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function bs(t,e){return new _(function(r){var n;return Z(r,e,function(){n=t[Qt](),Z(r,e,function(){var s,i,o;try{s=n.next(),i=s.value,o=s.done}catch(a){r.error(a);return}o?r.complete():r.next(i)},0,!0)}),function(){return x(n?.return)&&n.return()}})}function tr(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(function(r){Z(r,e,function(){var n=t[Symbol.asyncIterator]();Z(r,e,function(){n.next().then(function(s){s.done?r.complete():r.next(s.value)})},0,!0)})})}function ws(t,e){return tr(Yt(t),e)}function Cs(t,e){if(t!=null){if(Vt(t))return ys(t,e);if(zt(t))return gs(t,e);if(Ht(t))return ms(t,e);if(Wt(t))return tr(t,e);if(Jt(t))return bs(t,e);if(Xt(t))return ws(t,e)}throw Gt(t)}function ye(t,e){return e?Cs(t,e):L(t)}function Re(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ye(t);return ye(t,r)}function rr(t,e){var r=x(t)?t:function(){return t},n=function(s){return s.error(r())};return new _(n)}function Es(t){return!!t&&(t instanceof _||x(t.lift)&&x(t.subscribe))}var xs=He(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function A(t,e){return new Promise(function(r,n){var s=!1,i;t.subscribe({next:function(o){i=o,s=!0},error:n,complete:function(){s?r(i):n(new xs)}})})}function _s(t){return t instanceof Date&&!isNaN(t)}function T(t,e){return D(function(r,n){var s=0;r.subscribe(Y(n,function(i){n.next(t.call(e,i,s++))}))})}var Ss=Array.isArray;function As(t,e){return Ss(e)?t.apply(void 0,V([],H(e))):t(e)}function Os(t){return T(function(e){return As(t,e)})}function Is(t,e,r){return r===void 0&&(r=Te),function(n){wt(e,function(){for(var s=t.length,i=new Array(s),o=s,a=s,c=function(l){wt(e,function(){var h=ye(t[l],e),v=!1;h.subscribe(Y(n,function(d){i[l]=d,v||(v=!0,a--),a||n.next(r(i.slice()))},function(){--o||n.complete()}))},n)},u=0;u<s;u++)c(u)})}}function wt(t,e,r){e()}function js(t,e,r,n,s,i,o,a){var c=[],u=0,l=0,h=!1,v=function(){h&&!c.length&&!u&&e.complete()},d=function(f){return u<n?p(f):c.push(f)},p=function(f){u++;var m=!1;L(r(f,l++)).subscribe(Y(e,function(g){e.next(g)},function(){m=!0},void 0,function(){if(m)try{u--;for(var g=function(){var y=c.shift();o||p(y)};c.length&&u<n;)g();v()}catch(y){e.error(y)}}))};return t.subscribe(Y(e,d,function(){h=!0,v()})),function(){}}function me(t,e,r){return r===void 0&&(r=1/0),x(e)?me(function(n,s){return T(function(i,o){return e(n,i,s,o)})(L(t(n,s)))},r):(typeof e=="number"&&(r=e),D(function(n,s){return js(n,s,t,r)}))}function nr(t){return t===void 0&&(t=1/0),me(Te,t)}function Ts(){return nr(1)}function sr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ts()(ye(t,Ye(t)))}function ir(t){return new _(function(e){L(t()).subscribe(e)})}function Rs(t,e,r){return r===void 0&&(r=is),new _(function(n){var s=_s(t)?+t-r.now():t;s<0&&(s=0);var i=0;return r.schedule(function(){n.closed||(n.next(i++),n.complete())},s)})}function $s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Ye(t),n=us(t,1/0),s=t;return s.length?s.length===1?L(s[0]):nr(n)(ye(s,r)):Bt}var ks=Array.isArray;function Ps(t){return t.length===1&&ks(t[0])?t[0]:t}function ae(t,e){return D(function(r,n){var s=0;r.subscribe(Y(n,function(i){return t.call(e,i,s++)&&n.next(i)}))})}function Xe(t){return D(function(e,r){var n=null,s=!1,i;n=e.subscribe(Y(r,void 0,void 0,function(o){i=L(t(o,Xe(t)(e))),n?(n.unsubscribe(),n=null,i.subscribe(r)):s=!0})),s&&(n.unsubscribe(),n=null,i.subscribe(r))})}function or(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=as(t);return r?Qn(or.apply(void 0,V([],H(t))),Os(r)):D(function(n,s){Is(V([n],H(Ps(t))))(s)})}function Fs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return or.apply(void 0,V([],H(t)))}function ar(t){return D(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}function ur(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new Ge}:e,n=t.resetOnError,s=n===void 0?!0:n,i=t.resetOnComplete,o=i===void 0?!0:i,a=t.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var l,h,v,d=0,p=!1,f=!1,m=function(){h?.unsubscribe(),h=void 0},g=function(){m(),l=v=void 0,p=f=!1},y=function(){var b=l;g(),b?.unsubscribe()};return D(function(b,w){d++,!f&&!p&&m();var E=v=v??r();w.add(function(){d--,d===0&&!f&&!p&&(h=Me(y,c))}),E.subscribe(w),!l&&d>0&&(l=new pe({next:function(C){return E.next(C)},error:function(C){f=!0,m(),h=Me(g,s,C),E.error(C)},complete:function(){p=!0,m(),h=Me(g,o),E.complete()}}),L(b).subscribe(l))})(u)}}function Me(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(e===!0){t();return}if(e!==!1){var s=new pe({next:function(){s.unsubscribe(),t()}});return L(e.apply(void 0,V([],H(r)))).subscribe(s)}}function qs(t,e,r){var n,s=!1;return n=t,ur({connector:function(){return new es(n,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function Ms(t,e,r){var n=x(t)||e||r?{next:t,error:e,complete:r}:t;return n?D(function(s,i){var o;(o=n.subscribe)===null||o===void 0||o.call(n);var a=!0;s.subscribe(Y(i,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),i.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),i.complete()},function(c){var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),i.error(c)},function(){var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):Te}var cr={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Ze={0:8203,1:8204,2:8205,3:65279},Us=new Array(4).fill(String.fromCodePoint(Ze[0])).join("");function Ds(t){let e=JSON.stringify(t);return`${Us}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(s=>String.fromCodePoint(Ze[s])).join("")}).join("")}`}function Ls(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function Ns(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function yo(t,e,r="auto"){return r===!0||r==="auto"&&(Ls(t)||Ns(t))?t:`${t}${Ds(e)}`}Object.fromEntries(Object.entries(Ze).map(t=>t.reverse()));Object.fromEntries(Object.entries(cr).map(t=>t.reverse()));var Bs=`${Object.values(cr).map(t=>`\\u{${t.toString(16)}}`).join("")}`,Ct=new RegExp(`[${Bs}]{4,}`,"gu");function zs(t){var e;return{cleaned:t.replace(Ct,""),encoded:((e=t.match(Ct))==null?void 0:e[0])||""}}function Hs(t){return t&&JSON.parse(zs(JSON.stringify(t)).cleaned)}function Vs(t){return Hs(t)}class Ws extends Error{response;statusCode=400;responseBody;details;constructor(e){const r=lr(e);super(r.message),Object.assign(this,r)}}class Gs extends Error{response;statusCode=500;responseBody;details;constructor(e){const r=lr(e);super(r.message),Object.assign(this,r)}}function lr(t){const e=t.body,r={response:t,statusCode:t.statusCode,responseBody:Xs(e,t),message:"",details:void 0};if(e.error&&e.message)return r.message=`${e.error} - ${e.message}`,r;if(Qs(e)||Js(e)){const n=e.error.items||[],s=n.slice(0,5).map(o=>o.error?.description).filter(Boolean);let i=s.length?`:
- ${s.join(`
- `)}`:"";return n.length>5&&(i+=`
...and ${n.length-5} more`),r.message=`${e.error.description}${i}`,r.details=e.error,r}return e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||Ys(t),r)}function Qs(t){return Ae(t)&&Ae(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function Js(t){return Ae(t)&&Ae(t.error)&&t.error.type==="actionError"&&typeof t.error.description=="string"}function Ae(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Ys(t){const e=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${e}`}function Xs(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}class Zs extends Error{projectId;addOriginUrl;constructor({projectId:e}){super("CorsOriginError"),this.name="CorsOriginError",this.projectId=e;const r=new URL(`https://sanity.io/manage/project/${e}/api`);if(typeof location<"u"){const{origin:n}=location;r.searchParams.set("cors","add"),r.searchParams.set("origin",n),this.addOriginUrl=r,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${r}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${r}`}}const Ks={onResponse:t=>{if(t.statusCode>=500)throw new Gs(t);if(t.statusCode>=400)throw new Ws(t);return t}};function ei(){const t={};return{onResponse:e=>{const r=e.headers["x-sanity-warning"],n=Array.isArray(r)?r:[r];for(const s of n)!s||t[s]||(t[s]=!0,console.warn(s));return e}}}function Et(t){return jn([ze({shouldRetry:ti}),...t,ei(),Pn(),Fn(),Un(),Ks,Mn({implementation:_})])}function ti(t,e,r){if(r.maxRetries===0)return!1;const n=r.method==="GET"||r.method==="HEAD",s=(r.uri||r.url).startsWith("/data/query"),i=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(n||s)&&i?!0:ze.shouldRetry(t,e,r)}const ri="https://www.sanity.io/help/";function Ke(t){return ri+t}const xt=["image","file"],_t=["before","after","replace"],fr=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},ni=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},si=t=>{if(xt.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${xt.join(", ")}`)},de=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},dr=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},Oe=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);dr(t,e._id)},ii=(t,e,r)=>{const n="insert(at, selector, items)";if(_t.indexOf(t)===-1){const s=_t.map(i=>`"${i}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${s}`)}if(typeof e!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)},hr=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},pr=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t},vr=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:r}=t["~experimental_resource"];switch(e){case"dataset":{if(r.split(".").length!==2)throw new Error('Dataset resource ID must be in the format "project.dataset"');return}case"dashboard":case"media-library":case"canvas":return;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}},U=(t,e)=>{if(e["~experimental_resource"])throw new Error(`\`${t}\` does not support resource-based operations`)};function oi(t){let e=!1,r;return(...n)=>(e||(r=t(...n),e=!0),r)}const te=t=>oi((...e)=>console.warn(t.join(" "),...e)),ai=te(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),ui=te(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),ci=te(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),li=te(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),fi=te(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Ke("js-client-browser-token")} for more information and how to hide this warning.`]),di=te(["You have configured Sanity client to use a token, but also provided `withCredentials: true`.","This is no longer supported - only token will be used - remove `withCredentials: true`."]),hi=te(["Using the Sanity client without specifying an API version is deprecated.",`See ${Ke("js-client-api-version")}`]),pi="apicdn.sanity.io",he={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},vi=["localhost","127.0.0.1","0.0.0.0"],yi=t=>vi.indexOf(t)!==-1;function mi(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}function yr(t){if(Array.isArray(t)&&t.length>1&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives')}const mr=(t,e)=>{const r={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||he.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};r.apiVersion||hi();const n={...he,...r},s=n.useProjectHostname&&!n["~experimental_resource"];if(typeof Promise>"u"){const v=Ke("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${v}`)}if(s&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(n["~experimental_resource"]&&vr(n),typeof n.perspective<"u"&&yr(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const i=typeof window<"u"&&window.location&&window.location.hostname,o=i&&yi(window.location.hostname),a=!!n.token;n.withCredentials&&a&&(di(),n.withCredentials=!1),i&&o&&a&&n.ignoreBrowserTokenWarning!==!0?fi():typeof n.useCdn>"u"&&ui(),s&&ni(n.projectId),n.dataset&&fr(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?pr(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===he.apiHost,n.useCdn===!0&&n.withCredentials&&ai(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,mi(n.apiVersion);const c=n.apiHost.split("://",2),u=c[0],l=c[1],h=n.isDefaultApi?pi:l;return s?(n.url=`${u}://${n.projectId}.${l}/v${n.apiVersion}`,n.cdnUrl=`${u}://${n.projectId}.${h}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};class gr extends Error{name="ConnectionFailedError"}class gi extends Error{name="DisconnectError";reason;constructor(e,r,n={}){super(e,n),this.reason=r}}class bi extends Error{name="ChannelError";data;constructor(e,r){super(e),this.data=r}}class wi extends Error{name="MessageError";data;constructor(e,r,n={}){super(e,n),this.data=r}}class St extends Error{name="MessageParseError"}const Ci=["channelError","disconnect"];function br(t,e){return ir(()=>{const r=t();return Es(r)?r:Re(r)}).pipe(me(r=>Ei(r,e)))}function Ei(t,e){return new _(r=>{const n=e.includes("open"),s=e.includes("reconnect");function i(u){if("data"in u){const[l,h]=At(u);r.error(l?new St("Unable to parse EventSource error message",{cause:h}):new wi((h?.data).message,h));return}t.readyState===t.CLOSED?r.error(new gr("EventSource connection failed")):s&&r.next({type:"reconnect"})}function o(){r.next({type:"open"})}function a(u){const[l,h]=At(u);if(l){r.error(new St("Unable to parse EventSource message",{cause:l}));return}if(u.type==="channelError"){r.error(new bi(xi(h?.data),h.data));return}if(u.type==="disconnect"){r.error(new gi(`Server disconnected client: ${h.data?.reason||"unknown error"}`));return}r.next({type:u.type,id:u.lastEventId,...h.data?{data:h.data}:{}})}t.addEventListener("error",i),n&&t.addEventListener("open",o);const c=[...new Set([...Ci,...e])].filter(u=>u!=="error"&&u!=="open"&&u!=="reconnect");return c.forEach(u=>t.addEventListener(u,a)),()=>{t.removeEventListener("error",i),n&&t.removeEventListener("open",o),c.forEach(u=>t.removeEventListener(u,a)),t.close()}})}function At(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,..._i(e)?{}:{data:e}}]}catch(e){return[e,null]}}function xi(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}function _i(t){for(const e in t)return!1;return!0}function wr(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class Cr{selection;operations;constructor(e,r={}){this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return de("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,n){return ii(e,r,n),this._assign("insert",{[e]:r,items:n})}append(e,r){return this.insert("after",`${e}[-1]`,r)}prepend(e,r){return this.insert("before",`${e}[0]`,r)}splice(e,r,n,s){const i=typeof n>"u"||n===-1,o=r<0?r-1:r,a=i?-1:Math.max(0,r+n),c=o<0&&a>=0?"":a,u=`${e}[${o}:${c}]`;return this.insert("replace",u,s||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...wr(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r,n=!0){return de(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}}class K extends Cr{#e;constructor(e,r,n){super(e,r),this.#e=n}clone(){return new K(this.selection,{...this.operations},this.#e)}commit(e){if(!this.#e)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",n=Object.assign({returnFirst:r,returnDocuments:!0},e);return this.#e.mutate({patch:this.serialize()},n)}}class J extends Cr{#e;constructor(e,r,n){super(e,r),this.#e=n}clone(){return new J(this.selection,{...this.operations},this.#e)}commit(e){if(!this.#e)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",n=Object.assign({returnFirst:r,returnDocuments:!0},e);return this.#e.mutate({patch:this.serialize()},n)}}const Er={returnDocuments:!1};class xr{operations;trxId;constructor(e=[],r){this.operations=e,this.trxId=r}create(e){return de("create",e),this._add({create:e})}createIfNotExists(e){const r="createIfNotExists";return de(r,e),Oe(r,e),this._add({[r]:e})}createOrReplace(e){const r="createOrReplace";return de(r,e),Oe(r,e),this._add({[r]:e})}delete(e){return dr("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}class $e extends xr{#e;constructor(e,r,n){super(e,n),this.#e=r}clone(){return new $e([...this.operations],this.#e,this.trxId)}commit(e){if(!this.#e)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#e.mutate(this.serialize(),Object.assign({transactionId:this.trxId},Er,e||{}))}patch(e,r){const n=typeof r=="function",s=typeof e!="string"&&e instanceof J,i=typeof e=="object"&&("query"in e||"id"in e);if(s)return this._add({patch:e.serialize()});if(n){const o=r(new J(e,{},this.#e));if(!(o instanceof J))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}if(i){const o=new J(e,r||{},this.#e);return this._add({patch:o.serialize()})}return this._add({patch:{id:e,...r}})}}class ke extends xr{#e;constructor(e,r,n){super(e,n),this.#e=r}clone(){return new ke([...this.operations],this.#e,this.trxId)}commit(e){if(!this.#e)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.#e.mutate(this.serialize(),Object.assign({transactionId:this.trxId},Er,e||{}))}patch(e,r){const n=typeof r=="function";if(typeof e!="string"&&e instanceof K)return this._add({patch:e.serialize()});if(n){const s=r(new K(e,{},this.#e));if(!(s instanceof K))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:e,...r}})}}const Si="X-Sanity-Project-ID";function Ai(t,e={}){const r={},n=e.token||t.token;n&&(r.Authorization=`Bearer ${n}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[Si]=t.projectId);const s=!!(typeof e.withCredentials>"u"?t.withCredentials:e.withCredentials),i=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof i>"u"?300*1e3:i,proxy:e.proxy||t.proxy,json:!0,withCredentials:s,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const _r=({query:t,params:e={},options:r={}})=>{const n=new URLSearchParams,{tag:s,includeMutations:i,returnQuery:o,...a}=r;s&&n.append("tag",s),n.append("query",t);for(const[c,u]of Object.entries(e))n.append(`$${c}`,JSON.stringify(u));for(const[c,u]of Object.entries(a))u&&n.append(c,`${u}`);return o===!1&&n.append("returnQuery","false"),i===!1&&n.append("includeMutations","false"),`?${n}`},Oi=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,Ii=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:Oi(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),et=t=>t.type==="response",ji=t=>t.body,Ti=(t,e)=>t.reduce((r,n)=>(r[e(n)]=n,r),Object.create(null)),Ri=11264;function Sr(t,e,r,n,s={},i={}){const o="stega"in i?{...r||{},...typeof i.stega=="boolean"?{enabled:i.stega}:i.stega||{}}:r,a=o.enabled?Vs(s):s,c=i.filterResponse===!1?p=>p:p=>p.result,{cache:u,next:l,...h}={useAbortSignal:typeof i.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":i.resultSourceMap,...i,returnQuery:i.filterResponse===!1&&i.returnQuery!==!1},v=typeof u<"u"||typeof l<"u"?{...h,fetch:{cache:u,next:l}}:h,d=ue(t,e,"query",{query:n,params:a},v);return o.enabled?d.pipe(Fs(ye(jt(()=>import("./stegaEncodeSourceMap-ZhS991Ho.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url).then(function(p){return p.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:p})=>p))),T(([p,f])=>{const m=f(p.result,p.resultSourceMap,o);return c({...p,result:m})})):d.pipe(T(c))}function Ar(t,e,r,n={}){const s={uri:F(t,"doc",r),json:!0,tag:n.tag,signal:n.signal};return be(t,e,s).pipe(ae(et),T(i=>i.body.documents&&i.body.documents[0]))}function Or(t,e,r,n={}){const s={uri:F(t,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal};return be(t,e,s).pipe(ae(et),T(i=>{const o=Ti(i.body.documents||[],a=>a._id);return r.map(a=>o[a]||null)}))}function Ir(t,e,r,n){return Oe("createIfNotExists",r),Pe(t,e,r,"createIfNotExists",n)}function jr(t,e,r,n){return Oe("createOrReplace",r),Pe(t,e,r,"createOrReplace",n)}function Tr(t,e,r,n){return ue(t,e,"mutate",{mutations:[{delete:wr(r)}]},n)}function Rr(t,e,r,n){let s;r instanceof J||r instanceof K?s={patch:r.serialize()}:r instanceof $e||r instanceof ke?s=r.serialize():s=r;const i=Array.isArray(s)?s:[s],o=n&&n.transactionId||void 0;return ue(t,e,"mutate",{mutations:i,transactionId:o},n)}function $r(t,e,r,n){const s=Array.isArray(r)?r:[r],i=n&&n.transactionId||void 0,o=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return ue(t,e,"actions",{actions:s,transactionId:i,skipCrossDatasetReferenceValidation:o,dryRun:a},n)}function ue(t,e,r,n,s={}){const i=r==="mutate",o=r==="actions",a=r==="query",c=i||o?"":_r(n),u=!i&&!o&&c.length<Ri,l=u?c:"",h=s.returnFirst,{timeout:v,token:d,tag:p,headers:f,returnQuery:m,lastLiveEventId:g,cacheMode:y}=s,b=F(t,r,l),w={method:u?"GET":"POST",uri:b,json:!0,body:u?void 0:n,query:i&&Ii(s),timeout:v,headers:f,token:d,tag:p,returnQuery:m,perspective:s.perspective,resultSourceMap:s.resultSourceMap,lastLiveEventId:Array.isArray(g)?g[0]:g,cacheMode:y,canUseCdn:a,signal:s.signal,fetch:s.fetch,useAbortSignal:s.useAbortSignal,useCdn:s.useCdn};return be(t,e,w).pipe(ae(et),T(ji),T(E=>{if(!i)return E;const C=E.results||[];if(s.returnDocuments)return h?C[0]&&C[0].document:C.map(O=>O.document);const j=h?"documentId":"documentIds",$=h?C[0]&&C[0].id:C.map(O=>O.id);return{transactionId:E.transactionId,results:C,[j]:$}}))}function Pe(t,e,r,n,s={}){const i={[n]:r},o=Object.assign({returnFirst:!0,returnDocuments:!0},s);return ue(t,e,"mutate",{mutations:[i]},o)}const ge=t=>t.config().dataset!==void 0&&t.config().projectId!==void 0||t.config()["~experimental_resource"]!==void 0,kr=(t,e)=>ge(t)&&e.startsWith(F(t,"query")),$i=(t,e)=>ge(t)&&e.startsWith(F(t,"mutate")),ki=(t,e)=>ge(t)&&e.startsWith(F(t,"doc","")),Pi=(t,e)=>ge(t)&&e.startsWith(F(t,"listen")),Fi=(t,e)=>ge(t)&&e.startsWith(F(t,"history","")),qi=(t,e)=>e.startsWith("/data/")||kr(t,e)||$i(t,e)||ki(t,e)||Pi(t,e)||Fi(t,e);function be(t,e,r){const n=r.url||r.uri,s=t.config(),i=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&qi(t,n):r.canUseCdn;let o=(r.useCdn??s.useCdn)&&i;const a=r.tag&&s.requestTagPrefix?[s.requestTagPrefix,r.tag].join("."):r.tag||s.requestTagPrefix;if(a&&r.tag!==null&&(r.query={tag:pr(a),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&kr(t,n)){const l=r.resultSourceMap??s.resultSourceMap;l!==void 0&&l!==!1&&(r.query={resultSourceMap:l,...r.query});const h=r.perspective||s.perspective;typeof h<"u"&&(h==="previewDrafts"&&li(),yr(h),r.query={perspective:Array.isArray(h)?h.join(","):h,...r.query},(Array.isArray(h)&&h.length>0||h==="previewDrafts"||h==="drafts")&&o&&(o=!1,ci())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),r.returnQuery===!1&&(r.query={returnQuery:"false",...r.query}),o&&r.cacheMode=="noStale"&&(r.query={cacheMode:"noStale",...r.query})}const c=Ai(s,Object.assign({},r,{url:tt(t,n,o)})),u=new _(l=>e(c,s.requester).subscribe(l));return r.signal?u.pipe(Mi(r.signal)):u}function q(t,e,r){return be(t,e,r).pipe(ae(n=>n.type==="response"),T(n=>n.body))}function F(t,e,r){const n=t.config();if(n["~experimental_resource"]){vr(n);const o=Li(n),a=r!==void 0?`${e}/${r}`:e;return`${o}/${a}`.replace(/\/($|\?)/,"$1")}const s=hr(n),i=`/${e}/${s}`;return`/data${r!==void 0?`${i}/${r}`:i}`.replace(/\/($|\?)/,"$1")}function tt(t,e,r=!1){const{url:n,cdnUrl:s}=t.config();return`${r?s:n}/${e.replace(/^\//,"")}`}function Mi(t){return e=>new _(r=>{const n=()=>r.error(Di(t));if(t&&t.aborted){n();return}const s=e.subscribe(r);return t.addEventListener("abort",n),()=>{t.removeEventListener("abort",n),s.unsubscribe()}})}const Ui=!!globalThis.DOMException;function Di(t){if(Ui)return new DOMException(t?.reason??"The operation was aborted.","AbortError");const e=new Error(t?.reason??"The operation was aborted.");return e.name="AbortError",e}const Li=t=>{if(!t["~experimental_resource"])throw new Error("`resource` must be provided to perform resource queries");const{type:e,id:r}=t["~experimental_resource"];switch(e){case"dataset":{const n=r.split(".");if(n.length!==2)throw new Error('Dataset ID must be in the format "project.dataset"');return`/projects/${n[0]}/datasets/${n[1]}`}case"canvas":return`/canvases/${r}`;case"media-library":return`/media-libraries/${r}`;case"dashboard":return`/dashboards/${r}`;default:throw new Error(`Unsupported resource type: ${e.toString()}`)}};class Ni{#e;#t;constructor(e,r){this.#e=e,this.#t=r}upload(e,r,n){return Pr(this.#e,this.#t,e,r,n)}}class Bi{#e;#t;constructor(e,r){this.#e=e,this.#t=r}upload(e,r,n){const s=Pr(this.#e,this.#t,e,r,n);return A(s.pipe(ae(i=>i.type==="response"),T(i=>i.body.document)))}}function Pr(t,e,r,n,s={}){si(r);let i=s.extract||void 0;i&&!i.length&&(i=["none"]);const o=t.config(),a=Hi(s,n),{tag:c,label:u,title:l,description:h,creditLine:v,filename:d,source:p}=a,f={label:u,title:l,description:h,filename:d,meta:i,creditLine:v};return p&&(f.sourceId=p.id,f.sourceName=p.name,f.sourceUrl=p.url),be(t,e,{tag:c,method:"POST",timeout:a.timeout||0,uri:zi(o,r),headers:a.contentType?{"Content-Type":a.contentType}:{},query:f,body:n})}function zi(t,e){const r=e==="image"?"images":"files";if(t["~experimental_resource"]){const{type:s,id:i}=t["~experimental_resource"];switch(s){case"dataset":throw new Error("Assets are not supported for dataset resources, yet. Configure the client with `{projectId: <projectId>, dataset: <datasetId>}` instead.");case"canvas":return`/canvases/${i}/assets/${r}`;case"media-library":return`/media-libraries/${i}/upload`;case"dashboard":return`/dashboards/${i}/assets/${r}`;default:throw new Error(`Unsupported resource type: ${s.toString()}`)}}const n=hr(t);return`assets/${r}/${n}`}function Hi(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var Vi=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((r,n)=>(r[n]=typeof t[n]>"u"?e[n]:t[n],r),{});const Wi=(t,e)=>e.reduce((r,n)=>(typeof t[n]>"u"||(r[n]=t[n]),r),{}),Fr=ir(()=>jt(()=>import("./browser-Bn6v8F2i.js").then(t=>t.b),__vite__mapDeps([6,7]),import.meta.url)).pipe(T(({default:t})=>t),qs(1));function qr(){return function(t){return t.pipe(Xe((e,r)=>e instanceof gr?sr(Re({type:"reconnect"}),Rs(1e3).pipe(me(()=>r))):rr(()=>e)))}}const Gi=14800,Qi=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],Ji={includeResult:!0};function Mr(t,e,r={}){const{url:n,token:s,withCredentials:i,requestTagPrefix:o}=this.config(),a=r.tag&&o?[o,r.tag].join("."):r.tag,c={...Vi(r,Ji),tag:a},u=Wi(c,Qi),l=_r({query:t,params:e,options:{tag:a,...u}}),h=`${n}${F(this,"listen",l)}`;if(h.length>Gi)return rr(()=>new Error("Query too large for listener"));const v=c.events?c.events:["mutation"],d={};return i&&(d.withCredentials=!0),s&&(d.headers={Authorization:`Bearer ${s}`}),br(()=>(typeof EventSource>"u"||d.headers?Fr:Re(EventSource)).pipe(T(p=>new p(h,d))),v).pipe(qr(),ae(p=>v.includes(p.type)),T(p=>({type:p.type,..."data"in p?p.data:{}})))}function Yi(t,e){return Xi(typeof t=="function"?{predicate:t,...e}:t)}function Xi(t){return e=>{let r,n=!1;const{predicate:s,...i}=t,o=e.pipe(Ms(c=>{t.predicate(c)&&(n=!0,r=c)}),ar(()=>{n=!1,r=void 0}),ur(i)),a=new _(c=>{n&&c.next(r),c.complete()});return $s(o,a)}}const Ot="2021-03-25";class Ur{#e;constructor(e){this.#e=e}events({includeDrafts:e=!1,tag:r}={}){U("live",this.#e.config());const{projectId:n,apiVersion:s,token:i,withCredentials:o,requestTagPrefix:a}=this.#e.config(),c=s.replace(/^v/,"");if(c!=="X"&&c<Ot)throw new Error(`The live events API requires API version ${Ot} or later. The current API version is ${c}. Please update your API version to use this feature.`);if(e&&!i&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const u=F(this.#e,"live/events"),l=new URL(this.#e.getUrl(u,!1)),h=r&&a?[a,r].join("."):r;h&&l.searchParams.set("tag",h),e&&l.searchParams.set("includeDrafts","true");const v={};e&&i&&(v.headers={Authorization:`Bearer ${i}`}),e&&o&&(v.withCredentials=!0);const d=`${l.href}::${JSON.stringify(v)}`,p=Ue.get(d);if(p)return p;const f=br(()=>(typeof EventSource>"u"||v.headers?Fr:Re(EventSource)).pipe(T(y=>new y(l.href,v))),["message","restart","welcome","reconnect","goaway"]).pipe(qr(),T(y=>{if(y.type==="message"){const{data:b,...w}=y;return{...w,tags:b.tags}}return y})),m=Zi(l,{method:"OPTIONS",mode:"cors",credentials:v.withCredentials?"include":"omit",headers:v.headers}).pipe(me(()=>Bt),Xe(()=>{throw new Zs({projectId:n})})),g=sr(m,f).pipe(ar(()=>Ue.delete(d)),Yi({predicate:y=>y.type==="welcome"}));return Ue.set(d,g),g}}function Zi(t,e){return new _(r=>{const n=new AbortController,s=n.signal;return fetch(t,{...e,signal:n.signal}).then(i=>{r.next(i),r.complete()},i=>{s.aborted||r.error(i)}),()=>n.abort()})}const Ue=new Map;class Ki{#e;#t;constructor(e,r){this.#e=e,this.#t=r}create(e,r){return ie(this.#e,this.#t,"PUT",e,r)}edit(e,r){return ie(this.#e,this.#t,"PATCH",e,r)}delete(e){return ie(this.#e,this.#t,"DELETE",e)}list(){return q(this.#e,this.#t,{uri:"/datasets",tag:null})}}class eo{#e;#t;constructor(e,r){this.#e=e,this.#t=r}create(e,r){return U("dataset",this.#e.config()),A(ie(this.#e,this.#t,"PUT",e,r))}edit(e,r){return U("dataset",this.#e.config()),A(ie(this.#e,this.#t,"PATCH",e,r))}delete(e){return U("dataset",this.#e.config()),A(ie(this.#e,this.#t,"DELETE",e))}list(){return U("dataset",this.#e.config()),A(q(this.#e,this.#t,{uri:"/datasets",tag:null}))}}function ie(t,e,r,n,s){return U("dataset",t.config()),fr(n),q(t,e,{method:r,uri:`/datasets/${n}`,body:s,tag:null})}class to{#e;#t;constructor(e,r){this.#e=e,this.#t=r}list(e){U("projects",this.#e.config());const r=e?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return q(this.#e,this.#t,{uri:r})}getById(e){return U("projects",this.#e.config()),q(this.#e,this.#t,{uri:`/projects/${e}`})}}class ro{#e;#t;constructor(e,r){this.#e=e,this.#t=r}list(e){U("projects",this.#e.config());const r=e?.includeMembers===!1?"/projects?includeMembers=false":"/projects";return A(q(this.#e,this.#t,{uri:r}))}getById(e){return U("projects",this.#e.config()),A(q(this.#e,this.#t,{uri:`/projects/${e}`}))}}class no{#e;#t;constructor(e,r){this.#e=e,this.#t=r}getById(e){return q(this.#e,this.#t,{uri:`/users/${e}`})}}class so{#e;#t;constructor(e,r){this.#e=e,this.#t=r}getById(e){return A(q(this.#e,this.#t,{uri:`/users/${e}`}))}}class Ie{assets;datasets;live;projects;users;#e;#t;listen=Mr;constructor(e,r=he){this.config(r),this.#t=e,this.assets=new Ni(this,this.#t),this.datasets=new Ki(this,this.#t),this.live=new Ur(this),this.projects=new to(this,this.#t),this.users=new no(this,this.#t)}clone(){return new Ie(this.#t,this.config())}config(e){if(e===void 0)return{...this.#e};if(this.#e&&this.#e.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.#e=mr(e,this.#e||{}),this}withConfig(e){const r=this.config();return new Ie(this.#t,{...r,...e,stega:{...r.stega||{},...typeof e?.stega=="boolean"?{enabled:e.stega}:e?.stega||{}}})}fetch(e,r,n){return Sr(this,this.#t,this.#e.stega,e,r,n)}getDocument(e,r){return Ar(this,this.#t,e,r)}getDocuments(e,r){return Or(this,this.#t,e,r)}create(e,r){return Pe(this,this.#t,e,"create",r)}createIfNotExists(e,r){return Ir(this,this.#t,e,r)}createOrReplace(e,r){return jr(this,this.#t,e,r)}delete(e,r){return Tr(this,this.#t,e,r)}mutate(e,r){return Rr(this,this.#t,e,r)}patch(e,r){return new K(e,r,this)}transaction(e){return new ke(e,this)}action(e,r){return $r(this,this.#t,e,r)}request(e){return q(this,this.#t,e)}getUrl(e,r){return tt(this,e,r)}getDataUrl(e,r){return F(this,e,r)}}class je{assets;datasets;live;projects;users;observable;#e;#t;listen=Mr;constructor(e,r=he){this.config(r),this.#t=e,this.assets=new Bi(this,this.#t),this.datasets=new eo(this,this.#t),this.live=new Ur(this),this.projects=new ro(this,this.#t),this.users=new so(this,this.#t),this.observable=new Ie(e,r)}clone(){return new je(this.#t,this.config())}config(e){if(e===void 0)return{...this.#e};if(this.#e&&this.#e.allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),this.#e=mr(e,this.#e||{}),this}withConfig(e){const r=this.config();return new je(this.#t,{...r,...e,stega:{...r.stega||{},...typeof e?.stega=="boolean"?{enabled:e.stega}:e?.stega||{}}})}fetch(e,r,n){return A(Sr(this,this.#t,this.#e.stega,e,r,n))}getDocument(e,r){return A(Ar(this,this.#t,e,r))}getDocuments(e,r){return A(Or(this,this.#t,e,r))}create(e,r){return A(Pe(this,this.#t,e,"create",r))}createIfNotExists(e,r){return A(Ir(this,this.#t,e,r))}createOrReplace(e,r){return A(jr(this,this.#t,e,r))}delete(e,r){return A(Tr(this,this.#t,e,r))}mutate(e,r){return A(Rr(this,this.#t,e,r))}patch(e,r){return new J(e,r,this)}transaction(e){return new $e(e,this)}action(e,r){return A($r(this,this.#t,e,r))}request(e){return A(q(this,this.#t,e))}dataRequest(e,r,n){return A(ue(this,this.#t,e,r,n))}getUrl(e,r){return tt(this,e,r)}getDataUrl(e,r){return F(this,e,r)}}function io(t,e){return{requester:Et(t),createClient:r=>{const n=Et(t);return new e((s,i)=>(i||n)({maxRedirects:0,maxRetries:r.maxRetries,retryDelay:r.retryDelay,...s}),r)}}}var oo=[];const ao=io(oo,je),uo=ao.createClient,co=uo({projectId:"0ome5qpf",dataset:"production",useCdn:!0,apiVersion:"2025-02-21"});async function mo(t,e){return co.fetch(t,e)}export{yo as C,Cn as G,mo as f};
